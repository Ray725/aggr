import{Dexie as e}from"./dexie.min.5c4cb14.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function n(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(n){o(n)}}function s(e){try{c(r.throw(e))}catch(n){o(n)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}function t(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(s){o=[6,s],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function r(e){return[e.schema.primKey].concat(e.schema.indexes).map((function(e){return e.src})).join(",")}function i(e,n){return new Promise((function(t,r){var i=new FileReader;i.onabort=function(e){return r(new Error("file read aborted"))},i.onerror=function(e){return r(e.target.error)},i.onload=function(e){return t(e.target.result)},"binary"===n?i.readAsArrayBuffer(e):i.readAsText(e)}))}function o(e,n){if("undefined"==typeof FileReaderSync)throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var t=new FileReaderSync;return"binary"===n?t.readAsArrayBuffer(e):t.readAsText(e)}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,n){return e(n={exports:{}},n.exports),n.exports}for(var c=s((function(e,n){e.exports=function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},r=Object.keys,i=Array.isArray,o={}.toString,a=Object.getPrototypeOf,s={}.hasOwnProperty,c=s.toString,u=["type","replaced","iterateIn","iterateUnsetNumeric"];function l(e,n){return m.isObject(e)&&"function"==typeof e.then&&(!n||"function"==typeof e.catch)}function f(e){return o.call(e).slice(8,-1)}function p(n,t){if(!n||"object"!==(void 0===n?"undefined":e(n)))return!1;var r=a(n);if(!r)return!1;var i=s.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===t:"function"==typeof i&&null!==t&&c.call(i)===c.call(t)}function d(e){return!(!e||"Object"!==f(e))&&(!a(e)||p(e,Object))}function h(n){return n&&"object"===(void 0===n?"undefined":e(n))}function m(o){var a=[],s=[],c={},f=this.types={},v=this.stringify=function(e,n,t,r){r=Object.assign({},o,r,{stringification:!0});var a=O(e,null,r);return i(a)?JSON.stringify(a[0],n,t):a.then((function(e){return JSON.stringify(e,n,t)}))};this.stringifySync=function(e,n,t,r){return v(e,n,t,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,n,t,r){return v(e,n,t,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var A=this.parse=function(e,n,t){return t=Object.assign({},o,t,{parse:!0}),_(JSON.parse(e,n),t)};this.parseSync=function(e,n,t){return A(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.parseAsync=function(e,n,t){return A(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.specialTypeNames=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.returnTypeNames=!0,this.encapsulate(e,n,t)},this.rootTypeName=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.iterateNone=!0,this.encapsulate(e,n,t)};var O=this.encapsulate=function(l,f,y){var v=(y=Object.assign({sync:!0},o,y)).sync,g={},w=[],A=[],O=[],_=!(y&&"cyclic"in y)||y.cyclic,E=y.encapsulateObserver,T=I("",l,_,f||{},O);function N(e){var n=Object.values(g);if(y.iterateNone)return n.length?n[0]:m.getJSONType(e);if(n.length){if(y.returnTypeNames)return[].concat(t(new Set(n)));e&&d(e)&&!e.hasOwnProperty("$types")?e.$types=g:e={$:e,$types:{$:g}}}else h(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!y.returnTypeNames&&e}return O.length?v&&y.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(t,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],a=r.splice(0,1)[0],s=n(a,7),c=s[0],u=s[2],l=s[3],f=s[4],d=s[5],h=s[6],m=I(c,i,u,l,o,!0,h),y=p(m,S);return c&&y?m.p.then((function(n){return f[d]=n,e(t,o)})):(c?f[d]=m:t=y?m.p:m,e(t,o))})))})).then((function(){return t}))}(T,O)).then(N):!v&&y.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():y.stringification&&v?[N(T)]:v?N(T):Promise.resolve(N(T));function P(e,n,t){Object.assign(e,n);var r=u.map((function(n){var t=e[n];return delete e[n],t}));t(),u.forEach((function(n,t){e[n]=r[t]}))}function I(n,t,o,s,c,u,l){var f=void 0,h={},v=void 0===t?"undefined":e(t),O=E?function(e){var r=l||s.type||m.getJSONType(t);E(Object.assign(e||h,{keypath:n,value:t,cyclic:o,stateObj:s,promisesData:c,resolvingTypesonPromise:u,awaitingTypesonPromise:p(t,S)},void 0!==r?{type:r}:{}))}:null;if(v in{string:1,boolean:1,number:1,undefined:1})return void 0===t||"number"===v&&(isNaN(t)||t===-1/0||t===1/0)?(f=x(n,t,s,c,!1,u,O))!==t&&(h={replaced:f}):f=t,O&&O(),f;if(null===t)return O&&O(),t;if(o&&!s.iterateIn&&!s.iterateUnsetNumeric){var _=w.indexOf(t);if(!(_<0))return g[n]="#",O&&O({cyclicKeypath:A[_]}),"#"+A[_];!0===o&&(w.push(t),A.push(n))}var T=d(t),N=i(t),L=(T||N)&&(!a.length||s.replaced)||s.iterateIn?t:x(n,t,s,c,T||N,null,O),C=void 0;if(L!==t?(f=L,h={replaced:L}):N||"array"===s.iterateIn?(C=new Array(t.length),h={clone:C}):T||"object"===s.iterateIn?h={clone:C={}}:""===n&&p(t,S)?(c.push([n,t,o,s,void 0,void 0,s.type]),f=t):f=t,O&&O(),y.iterateNone)return C||f;if(!C)return f;if(s.iterateIn){var U=function(e){var r={ownKeys:t.hasOwnProperty(e)};P(s,r,(function(){var r=n+(n?".":"")+b(e),i=I(r,t[e],!!o,s,c,u);p(i,S)?c.push([r,i,!!o,s,C,e,s.type]):void 0!==i&&(C[e]=i)}))};for(var j in t)U(j);O&&O({endIterateIn:!0,end:!0})}else r(t).forEach((function(e){var r=n+(n?".":"")+b(e);P(s,{ownKeys:!0},(function(){var n=I(r,t[e],!!o,s,c,u);p(n,S)?c.push([r,n,!!o,s,C,e,s.type]):void 0!==n&&(C[e]=n)}))})),O&&O({endIterateOwn:!0,end:!0});if(s.iterateUnsetNumeric){for(var B=t.length,R=function(e){if(!(e in t)){var r=n+(n?".":"")+e;P(s,{ownKeys:!1},(function(){var n=I(r,void 0,!!o,s,c,u);p(n,S)?c.push([r,n,!!o,s,C,e,s.type]):void 0!==n&&(C[e]=n)}))}},D=0;D<B;D++)R(D);O&&O({endIterateUnsetNumeric:!0,end:!0})}return C}function x(e,n,t,r,i,o,u){for(var l=i?a:s,f=l.length;f--;){var p=l[f];if(p.test(n,t)){var d=p.type;if(c[d]){var h=g[e];g[e]=h?[d].concat(h):d}return Object.assign(t,{type:d,replaced:!0}),!v&&p.replaceAsync||p.replace?(u&&u({replacing:!0}),I(e,p[v||!p.replaceAsync?"replace":"replaceAsync"](n,t),_&&"readonly",t,r,o,d)):(u&&u({typeDetected:!0}),I(e,n,_&&"readonly",t,r,o,d))}}return n}};this.encapsulateSync=function(e,n,t){return O(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.encapsulateAsync=function(e,n,t){return O(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))};var _=this.revive=function(e,t){var a=(t=Object.assign({sync:!0},o,t)).sync,s=e&&e.$types,u=!0;if(!s)return e;if(!0===s)return e.$;s.$&&d(s.$)&&(e=e.$,s=s.$,u=!1);var f=[],h={},m=function e(t,o,a,l,m,y){if(!u||"$types"!==t){var v=s[t];if(i(o)||d(o)){var S=i(o)?new Array(o.length):{};for(r(o).forEach((function(n){var r=e(t+(t?".":"")+b(n),o[n],a||S,l,S,n);p(r,w)?S[n]=void 0:void 0!==r&&(S[n]=r)})),o=S;f.length;){var A=n(f[0],4),O=A[0],_=A[1],E=A[2],T=A[3],N=g(O,_);if(p(N,w))E[T]=void 0;else{if(void 0===N)break;E[T]=N}f.splice(0,1)}}if(!v)return o;if("#"===v){var P=g(a,o.substr(1));return void 0===P&&f.push([a,o.substr(1),m,y]),P}var I=l.sync;return[].concat(v).reduce((function(e,n){var t=c[n];if(!t)throw new Error("Unregistered type: "+n);return t[I&&t.revive?"revive":!I&&t.reviveAsync?"reviveAsync":"revive"](e,h)}),o)}}("",e,null,t);return l(m=p(m,w)?void 0:m)?a&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():m:!a&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?m:Promise.resolve(m)};this.reviveSync=function(e,n){return _(e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.reviveAsync=function(e,n){return _(e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.register=function(e,n){return n=n||{},[].concat(e).forEach((function e(t){if(i(t))return t.map(e);t&&r(t).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(m.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=t[e],o=r.testPlainObjects?a:s,u=o.filter((function(n){return n.type===e}));if(u.length&&(o.splice(o.indexOf(u[0]),1),delete c[e],delete f[e]),r){if("function"==typeof r){var l=r;r={test:function(e){return e&&e.constructor===l},replace:function(e){return y({},e)},revive:function(e){return y(Object.create(l.prototype),e)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var p={type:e,test:r.test.bind(r)};r.replace&&(p.replace=r.replace.bind(r)),r.replaceAsync&&(p.replaceAsync=r.replaceAsync.bind(r));var d="number"==typeof n.fallback?n.fallback:n.fallback?0:1/0;if(r.testPlainObjects?a.splice(d,0,p):s.splice(d,0,p),r.revive||r.reviveAsync){var h={};r.revive&&(h.revive=r.revive.bind(r)),r.reviveAsync&&(h.reviveAsync=r.reviveAsync.bind(r)),c[e]=h}f[e]=r}}))})),this}}function y(e,n){return r(n).map((function(t){e[t]=n[t]})),e}function b(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function v(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function g(e,n){if(""===n)return e;var t=n.indexOf(".");if(t>-1){var r=e[v(n.substr(0,t))];return void 0===r?void 0:g(r,n.substr(t+1))}return e[v(n)]}function w(){}function S(e){this.p=new Promise(e)}return S.prototype.then=function(e,n){var t=this;return new S((function(r,i){t.p.then((function(n){r(e?e(n):n)}),(function(e){t.p.catch((function(e){return n?n(e):Promise.reject(e)})).then(r,i)}))}))},S.prototype.catch=function(e){return this.then(null,e)},S.resolve=function(e){return new S((function(n){n(e)}))},S.reject=function(e){return new S((function(n,t){t(e)}))},["all","race"].map((function(e){S[e]=function(n){return new S((function(t,r){Promise[e](n.map((function(e){return e.p}))).then(t,r)}))}})),m.Undefined=w,m.Promise=S,m.isThenable=l,m.toStringTag=f,m.hasConstructorOf=p,m.isObject=h,m.isPlainObject=d,m.isUserObject=function e(n){if(!n||"Object"!==f(n))return!1;var t=a(n);return!t||p(n,Object)||e(t)},m.escapeKeyPathComponent=b,m.unescapeKeyPathComponent=v,m.getByKeyPath=g,m.getJSONType=function(n){return null===n?"null":i(n)?"array":void 0===n?"undefined":e(n)},m.JSON_TYPES=["null","boolean","number","string","array","object"],m}()})),u=s((function(e,n){e.exports=function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},r=Object.keys,i=Array.isArray,o={}.toString,s=Object.getPrototypeOf,c={}.hasOwnProperty,u=c.toString,l=["type","replaced","iterateIn","iterateUnsetNumeric"];function f(e,n){return y.isObject(e)&&"function"==typeof e.then&&(!n||"function"==typeof e.catch)}function p(e){return o.call(e).slice(8,-1)}function d(n,t){if(!n||"object"!==(void 0===n?"undefined":e(n)))return!1;var r=s(n);if(!r)return!1;var i=c.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===t:"function"==typeof i&&null!==t&&u.call(i)===u.call(t)}function h(e){return!(!e||"Object"!==p(e))&&(!s(e)||d(e,Object))}function m(n){return n&&"object"===(void 0===n?"undefined":e(n))}function y(o){var a=[],s=[],c={},u=this.types={},p=this.stringify=function(e,n,t,r){r=Object.assign({},o,r,{stringification:!0});var a=O(e,null,r);return i(a)?JSON.stringify(a[0],n,t):a.then((function(e){return JSON.stringify(e,n,t)}))};this.stringifySync=function(e,n,t,r){return p(e,n,t,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,n,t,r){return p(e,n,t,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var g=this.parse=function(e,n,t){return t=Object.assign({},o,t,{parse:!0}),_(JSON.parse(e,n),t)};this.parseSync=function(e,n,t){return g(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.parseAsync=function(e,n,t){return g(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.specialTypeNames=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.returnTypeNames=!0,this.encapsulate(e,n,t)},this.rootTypeName=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.iterateNone=!0,this.encapsulate(e,n,t)};var O=this.encapsulate=function(u,f,p){var b=(p=Object.assign({sync:!0},o,p)).sync,g={},w=[],S=[],O=[],_=!(p&&"cyclic"in p)||p.cyclic,E=p.encapsulateObserver,T=I("",u,_,f||{},O);function N(e){var n=Object.values(g);if(p.iterateNone)return n.length?n[0]:y.getJSONType(e);if(n.length){if(p.returnTypeNames)return[].concat(t(new Set(n)));e&&h(e)&&!e.hasOwnProperty("$types")?e.$types=g:e={$:e,$types:{$:g}}}else m(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!p.returnTypeNames&&e}return O.length?b&&p.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(t,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],a=r.splice(0,1)[0],s=n(a,7),c=s[0],u=s[2],l=s[3],f=s[4],p=s[5],h=s[6],m=I(c,i,u,l,o,!0,h),y=d(m,A);return c&&y?m.p.then((function(n){return f[p]=n,e(t,o)})):(c?f[p]=m:t=y?m.p:m,e(t,o))})))})).then((function(){return t}))}(T,O)).then(N):!b&&p.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():p.stringification&&b?[N(T)]:b?N(T):Promise.resolve(N(T));function P(e,n,t){Object.assign(e,n);var r=l.map((function(n){var t=e[n];return delete e[n],t}));t(),l.forEach((function(n,t){e[n]=r[t]}))}function I(n,t,o,s,c,u,l){var f=void 0,m={},b=void 0===t?"undefined":e(t),O=E?function(e){var r=l||s.type||y.getJSONType(t);E(Object.assign(e||m,{keypath:n,value:t,cyclic:o,stateObj:s,promisesData:c,resolvingTypesonPromise:u,awaitingTypesonPromise:d(t,A)},void 0!==r?{type:r}:{}))}:null;if(b in{string:1,boolean:1,number:1,undefined:1})return void 0===t||"number"===b&&(isNaN(t)||t===-1/0||t===1/0)?(f=x(n,t,s,c,!1,u,O))!==t&&(m={replaced:f}):f=t,O&&O(),f;if(null===t)return O&&O(),t;if(o&&!s.iterateIn&&!s.iterateUnsetNumeric){var _=w.indexOf(t);if(!(_<0))return g[n]="#",O&&O({cyclicKeypath:S[_]}),"#"+S[_];!0===o&&(w.push(t),S.push(n))}var T=h(t),N=i(t),L=(T||N)&&(!a.length||s.replaced)||s.iterateIn?t:x(n,t,s,c,T||N,null,O),C=void 0;if(L!==t?(f=L,m={replaced:L}):N||"array"===s.iterateIn?(C=new Array(t.length),m={clone:C}):T||"object"===s.iterateIn?m={clone:C={}}:""===n&&d(t,A)?(c.push([n,t,o,s,void 0,void 0,s.type]),f=t):f=t,O&&O(),p.iterateNone)return C||f;if(!C)return f;if(s.iterateIn){var U=function(e){var r={ownKeys:t.hasOwnProperty(e)};P(s,r,(function(){var r=n+(n?".":"")+v(e),i=I(r,t[e],!!o,s,c,u);d(i,A)?c.push([r,i,!!o,s,C,e,s.type]):void 0!==i&&(C[e]=i)}))};for(var j in t)U(j);O&&O({endIterateIn:!0,end:!0})}else r(t).forEach((function(e){var r=n+(n?".":"")+v(e);P(s,{ownKeys:!0},(function(){var n=I(r,t[e],!!o,s,c,u);d(n,A)?c.push([r,n,!!o,s,C,e,s.type]):void 0!==n&&(C[e]=n)}))})),O&&O({endIterateOwn:!0,end:!0});if(s.iterateUnsetNumeric){for(var B=t.length,R=function(e){if(!(e in t)){var r=n+(n?".":"")+e;P(s,{ownKeys:!1},(function(){var n=I(r,void 0,!!o,s,c,u);d(n,A)?c.push([r,n,!!o,s,C,e,s.type]):void 0!==n&&(C[e]=n)}))}},D=0;D<B;D++)R(D);O&&O({endIterateUnsetNumeric:!0,end:!0})}return C}function x(e,n,t,r,i,o,u){for(var l=i?a:s,f=l.length;f--;){var p=l[f];if(p.test(n,t)){var d=p.type;if(c[d]){var h=g[e];g[e]=h?[d].concat(h):d}return Object.assign(t,{type:d,replaced:!0}),!b&&p.replaceAsync||p.replace?(u&&u({replacing:!0}),I(e,p[b||!p.replaceAsync?"replace":"replaceAsync"](n,t),_&&"readonly",t,r,o,d)):(u&&u({typeDetected:!0}),I(e,n,_&&"readonly",t,r,o,d))}}return n}};this.encapsulateSync=function(e,n,t){return O(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.encapsulateAsync=function(e,n,t){return O(e,n,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))};var _=this.revive=function(e,t){var a=(t=Object.assign({sync:!0},o,t)).sync,s=e&&e.$types,u=!0;if(!s)return e;if(!0===s)return e.$;s.$&&h(s.$)&&(e=e.$,s=s.$,u=!1);var l=[],p={},m=function e(t,o,a,f,m,y){if(!u||"$types"!==t){var b=s[t];if(i(o)||h(o)){var g=i(o)?new Array(o.length):{};for(r(o).forEach((function(n){var r=e(t+(t?".":"")+v(n),o[n],a||g,f,g,n);d(r,S)?g[n]=void 0:void 0!==r&&(g[n]=r)})),o=g;l.length;){var A=n(l[0],4),O=A[0],_=A[1],E=A[2],T=A[3],N=w(O,_);if(d(N,S))E[T]=void 0;else{if(void 0===N)break;E[T]=N}l.splice(0,1)}}if(!b)return o;if("#"===b){var P=w(a,o.substr(1));return void 0===P&&l.push([a,o.substr(1),m,y]),P}var I=f.sync;return[].concat(b).reduce((function(e,n){var t=c[n];if(!t)throw new Error("Unregistered type: "+n);return t[I&&t.revive?"revive":!I&&t.reviveAsync?"reviveAsync":"revive"](e,p)}),o)}}("",e,null,t);return f(m=d(m,S)?void 0:m)?a&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():m:!a&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?m:Promise.resolve(m)};this.reviveSync=function(e,n){return _(e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.reviveAsync=function(e,n){return _(e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.register=function(e,n){return n=n||{},[].concat(e).forEach((function e(t){if(i(t))return t.map(e);t&&r(t).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(y.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=t[e],o=r.testPlainObjects?a:s,l=o.filter((function(n){return n.type===e}));if(l.length&&(o.splice(o.indexOf(l[0]),1),delete c[e],delete u[e]),r){if("function"==typeof r){var f=r;r={test:function(e){return e&&e.constructor===f},replace:function(e){return b({},e)},revive:function(e){return b(Object.create(f.prototype),e)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var p={type:e,test:r.test.bind(r)};r.replace&&(p.replace=r.replace.bind(r)),r.replaceAsync&&(p.replaceAsync=r.replaceAsync.bind(r));var d="number"==typeof n.fallback?n.fallback:n.fallback?0:1/0;if(r.testPlainObjects?a.splice(d,0,p):s.splice(d,0,p),r.revive||r.reviveAsync){var h={};r.revive&&(h.revive=r.revive.bind(r)),r.reviveAsync&&(h.reviveAsync=r.reviveAsync.bind(r)),c[e]=h}u[e]=r}}))})),this}}function b(e,n){return r(n).map((function(t){e[t]=n[t]})),e}function v(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function g(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function w(e,n){if(""===n)return e;var t=n.indexOf(".");if(t>-1){var r=e[g(n.substr(0,t))];return void 0===r?void 0:w(r,n.substr(t+1))}return e[g(n)]}function S(){}function A(e){this.p=new Promise(e)}A.prototype.then=function(e,n){var t=this;return new A((function(r,i){t.p.then((function(n){r(e?e(n):n)}),(function(e){t.p.catch((function(e){return n?n(e):Promise.reject(e)})).then(r,i)}))}))},A.prototype.catch=function(e){return this.then(null,e)},A.resolve=function(e){return new A((function(n){n(e)}))},A.reject=function(e){return new A((function(n,t){t(e)}))},["all","race"].map((function(e){A[e]=function(n){return new A((function(t,r){Promise[e](n.map((function(e){return e.p}))).then(t,r)}))}})),y.Undefined=S,y.Promise=A,y.isThenable=f,y.toStringTag=p,y.hasConstructorOf=d,y.isObject=m,y.isPlainObject=h,y.isUserObject=function e(n){if(!n||"Object"!==p(n))return!1;var t=s(n);return!t||d(n,Object)||e(t)},y.escapeKeyPathComponent=v,y.unescapeKeyPathComponent=g,y.getByKeyPath=w,y.getJSONType=function(n){return null===n?"null":i(n)?"array":void 0===n?"undefined":e(n)},y.JSON_TYPES=["null","boolean","number","string","array","object"];for(var O={userObject:{test:function(e,n){return y.isUserObject(e)},replace:function(e){return Object.assign({},e)},revive:function(e){return e}}},_=[[{sparseArrays:{testPlainObjects:!0,test:function(e){return Array.isArray(e)},replace:function(e,n){return n.iterateUnsetNumeric=!0,e}}},{sparseUndefined:{test:function(e,n){return void 0===e&&!1===n.ownKeys},replace:function(e){return null},revive:function(e){}}}],{undef:{test:function(e,n){return void 0===e&&(n.ownKeys||!("ownKeys"in n))},replace:function(e){return null},revive:function(e){return new y.Undefined}}}],E={StringObject:{test:function(n){return"String"===y.toStringTag(n)&&"object"===(void 0===n?"undefined":e(n))},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(n){return"Boolean"===y.toStringTag(n)&&"object"===(void 0===n?"undefined":e(n))},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(n){return"Number"===y.toStringTag(n)&&"object"===(void 0===n?"undefined":e(n))},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},T=[{nan:{test:function(e){return"number"==typeof e&&isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return NaN}}},{infinity:{test:function(e){return e===1/0},replace:function(e){return"Infinity"},revive:function(e){return 1/0}}},{negativeInfinity:{test:function(e){return e===-1/0},replace:function(e){return"-Infinity"},revive:function(e){return-1/0}}}],N={date:{test:function(e){return"Date"===y.toStringTag(e)},replace:function(e){var n=e.getTime();return isNaN(n)?"NaN":n},revive:function(e){return"NaN"===e?new Date(NaN):new Date(e)}}},P={regexp:{test:function(e){return"RegExp"===y.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var n=e.source,t=e.flags;return new RegExp(n,t)}}},I={map:{test:function(e){return"Map"===y.toStringTag(e)},replace:function(e){return Array.from(e.entries())},revive:function(e){return new Map(e)}}},x={set:{test:function(e){return"Set"===y.toStringTag(e)},replace:function(e){return Array.from(e.values())},revive:function(e){return new Set(e)}}},L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=new Uint8Array(256),U=0;U<L.length;U++)C[L.charCodeAt(U)]=U;var j=function(e,n,t){for(var r=new Uint8Array(e,n,t),i=r.length,o="",a=0;a<i;a+=3)o+=L[r[a]>>2],o+=L[(3&r[a])<<4|r[a+1]>>4],o+=L[(15&r[a+1])<<2|r[a+2]>>6],o+=L[63&r[a+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},B=function(e){var n=e.length,t=.75*e.length,r=0,i=void 0,o=void 0,a=void 0,s=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);for(var c=new ArrayBuffer(t),u=new Uint8Array(c),l=0;l<n;l+=4)i=C[e.charCodeAt(l)],o=C[e.charCodeAt(l+1)],a=C[e.charCodeAt(l+2)],s=C[e.charCodeAt(l+3)],u[r++]=i<<2|o>>4,u[r++]=(15&o)<<4|a>>2,u[r++]=(3&a)<<6|63&s;return c},R={arraybuffer:{test:function(e){return"ArrayBuffer"===y.toStringTag(e)},replace:function(e,n){n.buffers||(n.buffers=[]);var t=n.buffers.indexOf(e);return t>-1?{index:t}:(n.buffers.push(e),j(e))},revive:function(n,t){if(t.buffers||(t.buffers=[]),"object"===(void 0===n?"undefined":e(n)))return t.buffers[n.index];var r=B(n);return t.buffers.push(r),r}}},D="undefined"==typeof self?a:self,k={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var n=e,t=D[n];t&&(k[e.toLowerCase()]={test:function(e){return y.toStringTag(e)===n},replace:function(e,n){var t=e.buffer,r=e.byteOffset,i=e.length;n.buffers||(n.buffers=[]);var o=n.buffers.indexOf(t);return o>-1?{index:o,byteOffset:r,length:i}:(n.buffers.push(t),{encoded:j(t),byteOffset:r,length:i})},revive:function(e,n){n.buffers||(n.buffers=[]);var r=e.byteOffset,i=e.length,o=e.encoded,a=e.index,s=void 0;return"index"in e?s=n.buffers[a]:(s=B(o),n.buffers.push(s)),new t(s,r,i)}})}));var F={dataview:{test:function(e){return"DataView"===y.toStringTag(e)},replace:function(e,n){var t=e.buffer,r=e.byteOffset,i=e.byteLength;n.buffers||(n.buffers=[]);var o=n.buffers.indexOf(t);return o>-1?{index:o,byteOffset:r,byteLength:i}:(n.buffers.push(t),{encoded:j(t),byteOffset:r,byteLength:i})},revive:function(e,n){n.buffers||(n.buffers=[]);var t=e.byteOffset,r=e.byteLength,i=e.encoded,o=e.index,a=void 0;return"index"in e?a=n.buffers[o]:(a=B(i),n.buffers.push(a)),new DataView(a,t,r)}}},V={IntlCollator:{test:function(e){return y.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return y.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return y.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function M(e){for(var n=new Uint16Array(e.length),t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n.buffer}var G={file:{test:function(e){return"File"===y.toStringTag(e)},replace:function(e){var n=new XMLHttpRequest;if(n.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&n.overrideMimeType("text/plain; charset=utf-16le"),200!==n.status&&0!==n.status)throw new Error("Bad Blob access: "+n.status);return n.send(),{type:e.type,stringContents:n.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var n=e.name,t=e.type,r=e.stringContents,i=e.lastModified,o=M(r);return new File([o],n,{type:t,lastModified:i})},replaceAsync:function(e){return new y.Promise((function(n,t){if(e.isClosed)t(new Error("The File is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){n({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){t(r.error)})),r.readAsText(e,"UTF-16")}}))}}};return[O,_,E,T,N,P,{imagedata:{test:function(e){return"ImageData"===y.toStringTag(e)},replace:function(e){return{array:Array.from(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===y.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var n=document.createElement("canvas");return n.getContext("2d").drawImage(e,0,0),n.toDataURL()},revive:function(e){var n=document.createElement("canvas"),t=n.getContext("2d"),r=document.createElement("img");return r.onload=function(){t.drawImage(r,0,0)},r.src=e,n},reviveAsync:function(e){var n=document.createElement("canvas"),t=n.getContext("2d"),r=document.createElement("img");return r.onload=function(){t.drawImage(r,0,0)},r.src=e,createImageBitmap(n)}}},G,{file:G.file,filelist:{test:function(e){return"FileList"===y.toStringTag(e)},replace:function(e){for(var n=[],t=0;t<e.length;t++)n[t]=e.item(t);return n},revive:function(e){function n(){this._files=arguments[0],this.length=this._files.length}return n.prototype.item=function(e){return this._files[e]},n.prototype[Symbol.toStringTag]="FileList",new n(e)}}},{blob:{test:function(e){return"Blob"===y.toStringTag(e)},replace:function(e){var n=new XMLHttpRequest;if(n.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&n.overrideMimeType("text/plain; charset=utf-16le"),200!==n.status&&0!==n.status)throw new Error("Bad Blob access: "+n.status);return n.send(),{type:e.type,stringContents:n.responseText}},revive:function(e){var n=e.type,t=e.stringContents;return new Blob([M(t)],{type:n})},replaceAsync:function(e){return new y.Promise((function(n,t){if(e.isClosed)t(new Error("The Blob is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){n({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){t(r.error)})),r.readAsText(e,"UTF-16")}}))}}}].concat("function"==typeof Map?I:[],"function"==typeof Set?x:[],"function"==typeof ArrayBuffer?R:[],"function"==typeof Uint8Array?k:[],"function"==typeof DataView?F:[],"undefined"!=typeof Intl?V:[])}()})),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=new Uint8Array(256),p=0;p<64;p++)f[l.charCodeAt(p)]=p;var d=function(e,n,t){null==t&&(t=e.byteLength);for(var r=new Uint8Array(e,n||0,t),i=r.length,o="",a=0;a<i;a+=3)o+=l[r[a]>>2],o+=l[(3&r[a])<<4|r[a+1]>>4],o+=l[(15&r[a+1])<<2|r[a+2]>>6],o+=l[63&r[a+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},h=function(e){var n,t,r,i,o=e.length,a=.75*e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);for(var c=new ArrayBuffer(a),u=new Uint8Array(c),l=0;l<o;l+=4)n=f[e.charCodeAt(l)],t=f[e.charCodeAt(l+1)],r=f[e.charCodeAt(l+2)],i=f[e.charCodeAt(l+3)],u[s++]=n<<2|t>>4,u[s++]=(15&t)<<4|r>>2,u[s++]=(3&r)<<6|63&i;return c},m="undefined"==typeof self?global:self,y={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var n=e,t=m[n];t&&(y[e.toLowerCase()+"2"]={test:function(e){return c.toStringTag(e)===n},replace:function(e){return{buffer:e.buffer,byteOffset:e.byteOffset,length:e.length}},revive:function(e){var n=e.buffer,r=e.byteOffset,i=e.length;return new t(n,r,i)}})}));var b={arraybuffer:{test:function(e){return"ArrayBuffer"===c.toStringTag(e)},replace:function(e){return d(e,0,e.byteLength)},revive:function(e){return h(e)}}},v=(new c).register(u),g="FileReaderSync"in self,w=[],S=0;v.register([b,y,{blob2:{test:function(e){return"Blob"===c.toStringTag(e)},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(g){var n=o(e,"binary"),t=d(n,0,n.byteLength);return{type:e.type,data:t}}w.push(e);var r={type:e.type,data:{start:S,end:S+e.size}};return S+=e.size,r},finalize:function(e,n){e.data=d(n,0,n.byteLength)},revive:function(e){var n=e.type,t=e.data;return new Blob([h(t)],{type:n})}}}]),v.mustFinalize=function(){return w.length>0},v.finalize=function(r){return n(void 0,void 0,void 0,(function(){var n,o,a,s,c,u,l,f,p,d;return t(this,(function(t){switch(t.label){case 0:return[4,i(new Blob(w),"binary")];case 1:if(n=t.sent(),r)for(o=0,a=r;o<a.length;o++)if((s=a[o]).$types)for(l in c=s.$types,(u=c.$)&&(c=c.$),c)f=c[l],(p=v.types[f])&&p.finalize&&(d=e.getByKeyPath(s,u?"$."+l:l),p.finalize(d,n.slice(d.start,d.end)));return w=[],[2]}}))}))};function A(i,o){return n(this,void 0,void 0,(function(){function a(){return n(this,void 0,void 0,(function(){var n,r,a,d,h,m,y,b,g;return t(this,(function(w){switch(w.label){case 0:return[4,Promise.all(i.tables.map((function(e){return e.count()})))];case 1:(n=w.sent()).forEach((function(e,n){return c[n].rowCount=e})),p.totalRows=n.reduce((function(e,n){return e+n})),r=JSON.stringify(l,void 0,u?2:void 0),a=r.lastIndexOf("]"),d=r.substring(0,a),s.push(d),h=o.filter,m=function(n){var r,a,c,l,d,m,y,b,g,w,S;return t(this,(function(A){switch(A.label){case 0:r=i.table(n),a=r.schema.primKey,c=!!a.keyPath,l=o.numRowsPerChunk||2e3,d=c?{tableName:r.name,inbound:!0,rows:[]}:{tableName:r.name,inbound:!1,rows:[]},m=JSON.stringify(d,void 0,u?2:void 0),u&&(m=m.split("\n").join("\n    ")),y=m.lastIndexOf("]"),s.push(m.substring(0,y)),b=null,g=0,w=!0,S=function(){var i,o,d,m,y,S,A,O;return t(this,(function(t){switch(t.label){case 0:return f&&e.ignoreTransaction((function(){return f(p)})),[4,(i=null==b?r.limit(l):r.where(":id").above(b).limit(l)).toArray()];case 1:return 0===(o=t.sent()).length?[2,"break"]:(null!=b&&g>0&&(s.push(","),u&&s.push("\n      ")),w=o.length===l,c?(d=h?o.filter((function(e){return h(n,e)})):o,m=d.map((function(e){return v.encapsulate(e)})),v.mustFinalize()?[4,e.waitFor(v.finalize(m))]:[3,3]):[3,4]);case 2:t.sent(),t.label=3;case 3:return O=JSON.stringify(m,void 0,u?2:void 0),u&&(O=O.split("\n").join("\n      ")),s.push(new Blob([O.substring(1,O.length-1)])),g=d.length,b=o.length>0?e.getByKeyPath(o[o.length-1],a.keyPath):null,[3,8];case 4:return[4,i.primaryKeys()];case 5:return y=t.sent(),S=y.map((function(e,n){return[e,o[n]]})),h&&(S=S.filter((function(e){var t=e[0],r=e[1];return h(n,r,t)}))),A=S.map((function(e){return v.encapsulate(e)})),v.mustFinalize()?[4,e.waitFor(v.finalize(A))]:[3,7];case 6:t.sent(),t.label=7;case 7:O=JSON.stringify(A,void 0,u?2:void 0),u&&(O=O.split("\n").join("\n      ")),s.push(new Blob([O.substring(1,O.length-1)])),g=S.length,b=y.length>0?y[y.length-1]:null,t.label=8;case 8:return p.completedRows+=o.length,[2]}}))},A.label=1;case 1:return w?[5,S()]:[3,3];case 2:return"break"===A.sent()?[3,3]:[3,1];case 3:return s.push(m.substr(y)),p.completedTables+=1,p.completedTables<p.totalTables&&s.push(","),[2]}}))},y=0,b=c,w.label=2;case 2:return y<b.length?(g=b[y].name,[5,m(g)]):[3,5];case 3:w.sent(),w.label=4;case 4:return y++,[3,2];case 5:return s.push(r.substr(a)),p.done=!0,f&&e.ignoreTransaction((function(){return f(p)})),[2]}}))}))}var s,c,u,l,f,p;return t(this,(function(n){switch(n.label){case 0:o=o||{},s=[],c=i.tables.map((function(e){return{name:e.name,schema:r(e),rowCount:0}})),u=o.prettyJson,l={formatName:"dexie",formatVersion:1,data:{databaseName:i.name,databaseVersion:i.verno,tables:c,data:[]}},f=o.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:i.tables.length},n.label=1;case 1:return n.trys.push([1,,6,7]),o.noTransaction?[4,a()]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,i.transaction("r",i.tables,a)];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:return v.finalize(),[7];case 7:return f&&e.ignoreTransaction((function(){return f(p)})),[2,new Blob(s,{type:"text/json"})]}}))}))}var O=1,_=function(){},E=s((function(e,n){!function(e){var n="object"==typeof process?{npm_config_puppeteer_skip_download:"true",__MISE_ORIG_PATH:"/home/r/.local/share/pnpm:/home/r/.fly/bin:/home/r/.local/share/mise/installs/erlang/27.3.1/bin:/home/r/.local/share/mise/installs/go/1.24.1/bin:/home/r/.local/share/mise/installs/elixir/1.18.2-otp-27/bin:/home/r/.local/share/mise/installs/elixir/1.18.2-otp-27/.mix/escripts:/home/r/.local/share/mise/installs/python/3.12.8/bin:/home/r/.local/share/mise/installs/pipx/1.7.1/bin:/home/r/.local/share/mise/installs/pdm/2.22.3/bin:/home/r/.cargo/bin:/home/r/.local/share/mise/installs/node/20.11.1/bin:/home/r/.local/share/mise/installs/uv/0.6.6/uv-x86_64-unknown-linux-musl:/home/r/.local/bin:/home/r/.cursor-server/bin/8ea935e79a50a02da912a034bbeda84a6d3d3550/bin/remote-cli:/home/r/development/flutter/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/Alacritty/:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA app/NvDLISR:/mnt/c/Program Files/Mullvad VPN/resources:/mnt/c/Users/raymo/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/raymo/AppData/Local/GitHubDesktop/bin:/mnt/c/Users/raymo/AppData/Local/Microsoft/WinGet/Packages/SublimeHQ.SublimeText.4.Portable_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/raymo/AppData/Local/Programs/Espanso:/mnt/c/Users/raymo/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/raymo/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/Users/raymo/AppData/Local/Programs/Windsurf/bin:/snap/bin",LESSOPEN:"| /usr/bin/lesspipe %s",USER:"r",npm_config_user_agent:"npm/10.2.4 node/v20.11.1 linux x64 workspaces/false",__MISE_SESSION:"eAGVUD1OwzAUhhtwBA6A4hoolDFUkFaCGoWU1XISN7bkxJHt9AaItWLgAhUdIJTMzOwsLJm4ClHSpHPf9L33fd/7e8qFJCENsZFS6MV6kwUymfFIP38BJmMKFHi4tgGJIgVirqllZCzKw5azGnVNgQbXirzBOCWG6cWSJvPHt6HtOgiP0O3VemsnKpKvDrocT8peVxUyIAJoRhRtOvNEGyKEBpEE0Do+tSDwebJykIuQVx7tYnx3p/fe9K7e47MzqkybLC02nIfQzXBkjycraA2qYcuQq6LVtu/Iq6PwnCjMiGaFf3IB6azf889hAPuDsw9BDNUGZ2lYge+DvS72X37/zM8/fBSKpg",GIT_ASKPASS:"/home/r/.cursor-server/bin/8ea935e79a50a02da912a034bbeda84a6d3d3550/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/r/.local/share/mise/installs/node/20.11.1/bin/node",RUSTUP_TOOLCHAIN:"1.84.1",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/r",TERM_PROGRAM_VERSION:"0.50.4",npm_package_json:"/home/r/VFA/aggr/package.json",VSCODE_IPC_HOOK_CLI:"/run/user/1000/vscode-ipc-56ae7232-a9d5-4e9d-bf29-42fafaceac08.sock",npm_config_auto_install_peers:"true",__MISE_DIFF:"eAGdksFOAjEYhF/I/X9ayLKJJyQESJQahDNZoWEbu23TbmG9mRhfwivKQRM1vs2+jQuSvZEsXKedfDPTPm+0XDxtFF+/fHQ74z6bDdhN7wsTnXK0CPPYLvV7n10NR0WjUqWexxJdEluOqXAchXJZLKXDpUYCtAUE74Xa9tmYsUlxcYrxczy9m0xv9zm+K6P1LvPm53A2Yey6O+gMR1sCUQl7M3GWvBat6vrxgNzKWC2RtqH5H/L0WsVlHY4UubDlGCQCGujMBLS926TonWuGVOTI3dwKk7laXc1jlmiFZVEK0R5OasCNMHmZu32Yp5ZlkSIFSqG5o/xWkP3v2UlFs9KOP43SC460AYQc0IMaJr/CBoQQol8FeRTOwlbg1YPSaxVIoXwepN7JP+ZZBw8",VSCODE_GIT_ASKPASS_MAIN:"/home/r/.cursor-server/bin/8ea935e79a50a02da912a034bbeda84a6d3d3550/extensions/git/dist/askpass-main.js",npm_config_userconfig:"/home/r/.npmrc",npm_config_local_prefix:"/home/r/VFA/aggr",VSCODE_GIT_ASKPASS_NODE:"/home/r/.cursor-server/bin/8ea935e79a50a02da912a034bbeda84a6d3d3550/node",GOROOT:"/home/r/.local/share/mise/installs/go/1.24.1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",COLOR:"0",DEBUGINFOD_URLS:"https://debuginfod.ubuntu.com ",WAYLAND_DISPLAY:"wayland-0",LOGNAME:"r",NAME:"traymond",WSL_INTEROP:"/run/WSL/20689_interop",npm_config_npm_version:"10.2.4",npm_config_prefix:"/home/r/.local/share/mise/installs/node/20.11.1",MISE_SHELL:"bash",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",npm_config_cache:"/home/r/.npm",TERM:"xterm-256color",RUSTUP_HOME:"/home/r/.rustup",npm_config_node_gyp:"/home/r/.local/share/mise/installs/node/20.11.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/r/VFA/aggr/node_modules/.bin:/home/r/VFA/node_modules/.bin:/home/r/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/r/.local/share/mise/installs/node/20.11.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/r/VFA/aggr/node_modules/.bin:/home/r/VFA/node_modules/.bin:/home/r/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/r/.local/share/mise/installs/node/20.11.1/bin:/home/r/VFA/aggr/node_modules/.bin:/home/r/VFA/node_modules/.bin:/home/r/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/r/.local/share/mise/installs/node/20.11.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/r/.local/share/mise/installs/erlang/27.3.1/bin:/home/r/.local/share/mise/installs/go/1.24.1/bin:/home/r/.local/share/mise/installs/elixir/1.18.2-otp-27/bin:/home/r/.local/share/mise/installs/elixir/1.18.2-otp-27/.mix/escripts:/home/r/.local/share/mise/installs/python/3.12.8/bin:/home/r/.local/share/mise/installs/pipx/1.7.1/bin:/home/r/.local/share/mise/installs/pdm/2.22.3/bin:/home/r/.cargo/bin:/home/r/.local/share/mise/installs/node/20.11.1/bin:/home/r/.local/share/mise/installs/uv/0.6.6/uv-x86_64-unknown-linux-musl:/home/r/.local/share/pnpm:/home/r/.fly/bin:/home/r/.local/bin:/home/r/.cursor-server/bin/8ea935e79a50a02da912a034bbeda84a6d3d3550/bin/remote-cli:/home/r/development/flutter/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/Alacritty/:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA app/NvDLISR:/mnt/c/Program Files/Mullvad VPN/resources:/mnt/c/Users/raymo/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/raymo/AppData/Local/GitHubDesktop/bin:/mnt/c/Users/raymo/AppData/Local/Microsoft/WinGet/Packages/SublimeHQ.SublimeText.4.Portable_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/raymo/AppData/Local/Programs/Espanso:/mnt/c/Users/raymo/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/raymo/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/Users/raymo/AppData/Local/Programs/Windsurf/bin:/snap/bin",NODE:"/home/r/.local/share/mise/installs/node/20.11.1/bin/node",GOBIN:"/home/r/.local/share/mise/installs/go/1.24.1/bin",npm_package_name:"aggr",XDG_RUNTIME_DIR:"/run/user/1000/",DISPLAY:":0",LANG:"C.UTF-8",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:",npm_lifecycle_script:"vite build",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-91b8bfdcff.sock",TERM_PROGRAM:"vscode",SHELL:"/bin/bash",npm_package_version:"3.7.0",npm_lifecycle_event:"build",FLYCTL_INSTALL:"/home/r/.fly",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_config_globalconfig:"/home/r/.local/share/mise/installs/node/20.11.1/etc/npmrc",npm_config_init_module:"/home/r/.npm-init.js",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/r/VFA/aggr",npm_execpath:"/home/r/.local/share/mise/installs/node/20.11.1/lib/node_modules/npm/bin/npm-cli.js",CARGO_HOME:"/home/r/.cargo",XDG_DATA_DIRS:"/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_global_prefix:"/home/r/.local/share/mise/installs/node/20.11.1",npm_command:"run-script",WSL2_GUI_APPS_ENABLED:"1",PNPM_HOME:"/home/r/.local/share/pnpm",HOSTTYPE:"x86_64",EDITOR:"vi",INIT_CWD:"/home/r/VFA/aggr",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production",VITE_APP_VERSION:"3.7.0",VITE_APP_BUILD_DATE:"15 may",VITE_APP_EXCHANGES:"aggr,binance,binance_futures,binance_us,bitfinex,bitget,bitmart,bitmex,bitstamp,bitunix,bybit,coinbase,cryptocom,deribit,dydx,gateio,hitbtc,huobi,kraken,kucoin,mexc,okex,phemex,poloniex,uniswap",VITE_APP_API_URL:"http://157.230.44.16:3000/",VITE_APP_PROXY_URL:"https://cors.aggr.trade/",VITE_APP_LIB_URL:"https://lib.aggr.trade/",VITE_APP_LIB_REPO_URL:"https://github.com/Tucsky/aggr-lib",VITE_APP_API_SUPPORTED_TIMEFRAMES:"5,10,15,30,60,180,300,900,1260,1800,3600,7200,14400,21600,28800,43200,86400",VITE_APP_BASE_PATH:"/aggr/",VITE_APP_PUBLIC_VAPID_KEY:"BNi_5_w2FU8LdTg5KxQvHYi0hXzyKMIYmYXin1nUyXEtXfyAAef0pe68v3hrQwDP00NPGPasGTrurB8Hmi3On7I"}:self;e.parser=function(e){return new l(e)},e.CParser=l,e.CStream=f,e.createStream=function(e){return new f(e)},e.MAX_BUFFER_LENGTH=10485760,e.DEBUG="debug"===n.CDEBUG,e.INFO="debug"===n.CDEBUG||"info"===n.CDEBUG,e.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var t,r={textNode:void 0,numberNode:""},i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e})),o=0;for(var a in e.STATE={BEGIN:o++,VALUE:o++,OPEN_OBJECT:o++,CLOSE_OBJECT:o++,OPEN_ARRAY:o++,CLOSE_ARRAY:o++,TEXT_ESCAPE:o++,STRING:o++,BACKSLASH:o++,END:o++,OPEN_KEY:o++,CLOSE_KEY:o++,TRUE:o++,TRUE2:o++,TRUE3:o++,FALSE:o++,FALSE2:o++,FALSE3:o++,FALSE4:o++,NULL:o++,NULL2:o++,NULL3:o++,NUMBER_DECIMAL_POINT:o++,NUMBER_DIGIT:o++},e.STATE)e.STATE[e.STATE[a]]=a;o=e.STATE;const s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};function c(e){for(var n in r)e[n]=r[n]}Object.create||(Object.create=function(e){function n(){this.__proto__=e}return n.prototype=e,new n}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__}),Object.keys||(Object.keys=function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n});var u=/[\\"\n]/g;function l(n){if(!(this instanceof l))return new l(n);var t=this;c(t),t.bufferCheckPosition=e.MAX_BUFFER_LENGTH,t.q=t.c=t.p="",t.opt=n||{},t.closed=t.closedRoot=t.sawRoot=!1,t.tag=t.error=null,t.state=o.BEGIN,t.stack=new Array,t.position=t.column=0,t.line=1,t.slashed=!1,t.unicodeI=0,t.unicodeS=null,t.depth=0,p(t,"onready")}l.prototype={end:function(){b(this)},write:function(n){var t=this;if(this.error)throw this.error;if(t.closed)return y(t,"Cannot write after close. Assign an onready handler.");if(null===n)return b(t);var i=0,a=n.charCodeAt(0),c=t.p;e.DEBUG;for(;a&&(c=a,t.c=a=n.charCodeAt(i++),c!==a?t.p=c:c=t.p,a);)switch(e.DEBUG,t.position++,a===s.lineFeed?(t.line++,t.column=0):t.column++,t.state){case o.BEGIN:a===s.openBrace?t.state=o.OPEN_OBJECT:a===s.openBracket?t.state=o.OPEN_ARRAY:v(a)||y(t,"Non-whitespace before {[.");continue;case o.OPEN_KEY:case o.OPEN_OBJECT:if(v(a))continue;if(t.state===o.OPEN_KEY)t.stack.push(o.CLOSE_KEY);else{if(a===s.closeBrace){p(t,"onopenobject"),this.depth++,p(t,"oncloseobject"),this.depth--,t.state=t.stack.pop()||o.VALUE;continue}t.stack.push(o.CLOSE_OBJECT)}a===s.doubleQuote?t.state=o.STRING:y(t,'Malformed object key should start with "');continue;case o.CLOSE_KEY:case o.CLOSE_OBJECT:if(v(a))continue;t.state,o.CLOSE_KEY,a===s.colon?(t.state===o.CLOSE_OBJECT?(t.stack.push(o.CLOSE_OBJECT),h(t,"onopenobject"),this.depth++):h(t,"onkey"),t.state=o.VALUE):a===s.closeBrace?(d(t,"oncloseobject"),this.depth--,t.state=t.stack.pop()||o.VALUE):a===s.comma?(t.state===o.CLOSE_OBJECT&&t.stack.push(o.CLOSE_OBJECT),h(t),t.state=o.OPEN_KEY):y(t,"Bad object");continue;case o.OPEN_ARRAY:case o.VALUE:if(v(a))continue;if(t.state===o.OPEN_ARRAY){if(p(t,"onopenarray"),this.depth++,t.state=o.VALUE,a===s.closeBracket){p(t,"onclosearray"),this.depth--,t.state=t.stack.pop()||o.VALUE;continue}t.stack.push(o.CLOSE_ARRAY)}a===s.doubleQuote?t.state=o.STRING:a===s.openBrace?t.state=o.OPEN_OBJECT:a===s.openBracket?t.state=o.OPEN_ARRAY:a===s.t?t.state=o.TRUE:a===s.f?t.state=o.FALSE:a===s.n?t.state=o.NULL:a===s.minus?t.numberNode+="-":s._0<=a&&a<=s._9?(t.numberNode+=String.fromCharCode(a),t.state=o.NUMBER_DIGIT):y(t,"Bad value");continue;case o.CLOSE_ARRAY:if(a===s.comma)t.stack.push(o.CLOSE_ARRAY),h(t,"onvalue"),t.state=o.VALUE;else if(a===s.closeBracket)d(t,"onclosearray"),this.depth--,t.state=t.stack.pop()||o.VALUE;else{if(v(a))continue;y(t,"Bad array")}continue;case o.STRING:void 0===t.textNode&&(t.textNode="");var l=i-1,f=t.slashed,g=t.unicodeI;e:for(;;){for(e.DEBUG;g>0;)if(t.unicodeS+=String.fromCharCode(a),a=n.charCodeAt(i++),t.position++,4===g?(t.textNode+=String.fromCharCode(parseInt(t.unicodeS,16)),g=0,l=i-1):g++,!a)break e;if(a===s.doubleQuote&&!f){t.state=t.stack.pop()||o.VALUE,t.textNode+=n.substring(l,i-1),t.position+=i-1-l;break}if(a===s.backslash&&!f&&(f=!0,t.textNode+=n.substring(l,i-1),t.position+=i-1-l,a=n.charCodeAt(i++),t.position++,!a))break;if(f){if(f=!1,a===s.n?t.textNode+="\n":a===s.r?t.textNode+="\r":a===s.t?t.textNode+="\t":a===s.f?t.textNode+="\f":a===s.b?t.textNode+="\b":a===s.u?(g=1,t.unicodeS=""):t.textNode+=String.fromCharCode(a),a=n.charCodeAt(i++),t.position++,l=i-1,a)continue;break}u.lastIndex=i;var w=u.exec(n);if(null===w){i=n.length+1,t.textNode+=n.substring(l,i-1),t.position+=i-1-l;break}if(i=w.index+1,!(a=n.charCodeAt(w.index))){t.textNode+=n.substring(l,i-1),t.position+=i-1-l;break}}t.slashed=f,t.unicodeI=g;continue;case o.TRUE:a===s.r?t.state=o.TRUE2:y(t,"Invalid true started with t"+a);continue;case o.TRUE2:a===s.u?t.state=o.TRUE3:y(t,"Invalid true started with tr"+a);continue;case o.TRUE3:a===s.e?(p(t,"onvalue",!0),t.state=t.stack.pop()||o.VALUE):y(t,"Invalid true started with tru"+a);continue;case o.FALSE:a===s.a?t.state=o.FALSE2:y(t,"Invalid false started with f"+a);continue;case o.FALSE2:a===s.l?t.state=o.FALSE3:y(t,"Invalid false started with fa"+a);continue;case o.FALSE3:a===s.s?t.state=o.FALSE4:y(t,"Invalid false started with fal"+a);continue;case o.FALSE4:a===s.e?(p(t,"onvalue",!1),t.state=t.stack.pop()||o.VALUE):y(t,"Invalid false started with fals"+a);continue;case o.NULL:a===s.u?t.state=o.NULL2:y(t,"Invalid null started with n"+a);continue;case o.NULL2:a===s.l?t.state=o.NULL3:y(t,"Invalid null started with nu"+a);continue;case o.NULL3:a===s.l?(p(t,"onvalue",null),t.state=t.stack.pop()||o.VALUE):y(t,"Invalid null started with nul"+a);continue;case o.NUMBER_DECIMAL_POINT:a===s.period?(t.numberNode+=".",t.state=o.NUMBER_DIGIT):y(t,"Leading zero not followed by .");continue;case o.NUMBER_DIGIT:s._0<=a&&a<=s._9?t.numberNode+=String.fromCharCode(a):a===s.period?(-1!==t.numberNode.indexOf(".")&&y(t,"Invalid number has two dots"),t.numberNode+="."):a===s.e||a===s.E?(-1===t.numberNode.indexOf("e")&&-1===t.numberNode.indexOf("E")||y(t,"Invalid number has two exponential"),t.numberNode+="e"):a===s.plus||a===s.minus?(c!==s.e&&c!==s.E&&y(t,"Invalid symbol in number"),t.numberNode+=String.fromCharCode(a)):(m(t),i--,t.state=t.stack.pop()||o.VALUE);continue;default:y(t,"Unknown state: "+t.state)}t.position>=t.bufferCheckPosition&&function(n){var t=Math.max(e.MAX_BUFFER_LENGTH,10),i=0;for(var o in r){var a=void 0===n[o]?0:n[o].length;a>t&&("text"===o?closeText(n):y(n,"Max buffer length exceeded: "+o)),i=Math.max(i,a)}n.bufferCheckPosition=e.MAX_BUFFER_LENGTH-i+n.position}(t);return t},resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{t=_}catch(g){t=function(){}}function f(e){if(!(this instanceof f))return new f(e);this._parser=new l(e),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var n=this;t.apply(n),this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},i.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}function p(n,t,r){e.INFO,n[t]&&n[t](r)}function d(e,n,t){h(e),p(e,n,t)}function h(e,n){e.textNode=function(e,n){if(void 0===n)return n;e.trim&&(n=n.trim());e.normalize&&(n=n.replace(/\s+/g," "));return n}(e.opt,e.textNode),void 0!==e.textNode&&p(e,n||"onvalue",e.textNode),e.textNode=void 0}function m(e){e.numberNode&&p(e,"onvalue",parseFloat(e.numberNode)),e.numberNode=""}function y(e,n){return h(e),n+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c,n=new Error(n),e.error=n,p(e,"onerror",n),e}function b(e){return e.state===o.VALUE&&0===e.depth||y(e,"Unexpected end"),h(e),e.c="",e.closed=!0,p(e,"onend"),l.call(e,e.opt),e}function v(e){return e===s.carriageReturn||e===s.lineFeed||e===s.space||e===s.tab}f.prototype=Object.create(t.prototype,{constructor:{value:f}}),f.prototype.write=function(e){e=new Buffer(e);for(var n=0;n<e.length;n++){var t=e[n];if(this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=e[r];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,n=n+r-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&t>=128){if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>e.length){for(var i=0;i<=e.length-1-n;i++)this.temp_buffs[this.bytes_in_sequence][i]=e[n+i];return this.bytes_remaining=n+this.bytes_in_sequence-e.length,!0}this.string=e.slice(n,n+this.bytes_in_sequence).toString(),n=n+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var o=n;o<e.length&&!(e[o]>=128);o++);this.string=e.slice(n,o).toString(),this._parser.write(this.string),this.emit("data",this.string),n=o-1}}},f.prototype.end=function(e){return e&&e.length&&this._parser.write(e.toString()),this._parser.end(),!0},f.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===i.indexOf(e)||(r._parser["on"+e]=function(){var n=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);n.splice(0,0,e),r.emit.apply(r,n)}),t.prototype.on.call(r,e,n)},f.prototype.destroy=function(){c(this._parser),this.emit("close")}}(n)}));function T(e){var r=0,a=function(e){var n,t,r,i=E.parser(),o=0,a=[],s=!1,c=!1;return i.onopenobject=function(i){var s={incomplete:!0};n||(n=s),t&&(a.push([r,t,c]),e&&(c?t.push(s):t[r]=s)),t=s,r=i,c=!1,++o},i.onkey=function(e){return r=e},i.onvalue=function(e){return c?t.push(e):t[r]=e},i.oncloseobject=function(){var n;if(delete t.incomplete,r=null,0==--o)s=!0;else{var i=t;n=a.pop(),r=n[0],t=n[1],c=n[2],e||(c?t.push(i):t[r]=i)}},i.onopenarray=function(){var i=[];i.incomplete=!0,n||(n=i),t&&(a.push([r,t,c]),e&&(c?t.push(i):t[r]=i)),t=i,c=!0,r=null,++o},i.onclosearray=function(){var n;if(delete t.incomplete,r=null,0==--o)s=!0;else{var i=t;n=a.pop(),r=n[0],t=n[1],c=n[2],e||(c?t.push(i):t[r]=i)}},{write:function(e){return i.write(e),n},done:function(){return s}}}(!0),s={pullAsync:function(o){return n(this,void 0,void 0,(function(){var n,c,u;return t(this,(function(t){switch(t.label){case 0:return n=e.slice(r,r+o),r+=o,[4,i(n,"text")];case 1:return c=t.sent(),u=a.write(c),s.result=u||{},[2,u]}}))}))},pullSync:function(n){var t=e.slice(r,r+n);r+=n;var i=o(t,"text"),c=a.write(i);return s.result=c||{},c},done:function(){return a.done()},eof:function(){return r>=e.size},result:{}};return s}var N=1024;function P(r,i){return n(this,void 0,void 0,(function(){var n,o,a,s;return t(this,(function(t){switch(t.label){case 0:return n=(i=i||{}).chunkSizeBytes||1024*N,[4,L(r,n)];case 1:return o=t.sent(),a=o.result.data,(s=new e(a.databaseName)).version(a.databaseVersion).stores(function(e){for(var n={},t=0,r=e.tables;t<r.length;t++){var i=r[t];n[i.name]=i.schema}return n}(a)),[4,x(s,o,i)];case 2:return t.sent(),[2,s]}}))}))}function I(e){return n(this,void 0,void 0,(function(){var n;return t(this,(function(t){switch(t.label){case 0:n=T(e),t.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(5120)];case 2:return t.sent(),n.result.data&&n.result.data.data?(delete n.result.data.data,[3,3]):[3,1];case 3:return[2,n.result]}}))}))}function x(r,i,o){return n(this,void 0,void 0,(function(){function a(){return n(this,void 0,void 0,(function(){var n,i,a,u;return t(this,(function(h){switch(h.label){case 0:n=function(n){var i,a,s,c,u,l,h,m,y,b,g,w;return t(this,(function(t){switch(t.label){case 0:if(!n.rows)return[2,"break"];if(!n.rows.incomplete&&0===n.rows.length)return[2,"continue"];if(p&&e.ignoreTransaction((function(){return p(d)})),i=n.tableName,a=r.table(i),s=f.tables.filter((function(e){return e.name===i}))[0].schema,!a){if(o.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+n.tableName+" is missing in installed database")}if(!o.acceptChangedPrimaryKey&&s.split(",")[0]!=a.schema.primKey.src)throw new Error("Primary key differs for table "+n.tableName+". ");for(c=n.rows,u=[],l=0;l<c.length&&!(h=c[l]).incomplete;l++)u.push(v.revive(h));return m=o.filter,y=m?n.inbound?u.filter((function(e){return m(i,e)})):u.filter((function(e){var n=e[0],t=e[1];return m(i,t,n)})):u,b=n.inbound?[void 0,y]:[y.map((function(e){return e[0]})),u.map((function(e){return e[1]}))],g=b[0],w=b[1],o.overwriteValues?[4,a.bulkPut(w,g)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,a.bulkAdd(w,g)];case 3:t.sent(),t.label=4;case 4:return d.completedRows+=u.length,u.incomplete||(d.completedTables+=1),c.splice(0,u.length),[2]}}))},i=0,a=f.data,h.label=1;case 1:return i<a.length?(u=a[i],[5,n(u)]):[3,4];case 2:if("break"===h.sent())return[3,4];h.label=3;case 3:return i++,[3,1];case 4:for(;f.data.length>0&&f.data[0].rows&&!f.data[0].rows.incomplete;)f.data.splice(0,1);return c.done()||c.eof()?[3,8]:l?(c.pullSync(s),[3,7]):[3,5];case 5:return[4,e.waitFor(c.pullAsync(s))];case 6:h.sent(),h.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}}))}))}var s,c,u,l,f,p,d,h,m;return t(this,(function(n){switch(n.label){case 0:return s=(o=o||{}).chunkSizeBytes||1024*N,[4,L(i,s)];case 1:if(c=n.sent(),u=c.result,l="FileReaderSync"in self,f=u.data,!o.acceptNameDiff&&r.name!==f.databaseName)throw new Error("Name differs. Current database name is "+r.name+" but export is "+f.databaseName);if(!o.acceptVersionDiff&&r.verno!==f.databaseVersion)throw new Error("Database version differs. Current database is in version "+r.verno+" but export is "+f.databaseVersion);if(p=o.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:f.tables.reduce((function(e,n){return e+n.rowCount}),0),totalTables:f.tables.length},p&&e.ignoreTransaction((function(){return p(d)})),!o.clearTablesBeforeImport)return[3,5];h=0,m=r.tables,n.label=2;case 2:return h<m.length?[4,m[h].clear()]:[3,5];case 3:n.sent(),n.label=4;case 4:return h++,[3,2];case 5:return o.noTransaction?[4,a()]:[3,7];case 6:return n.sent(),[3,9];case 7:return[4,r.transaction("rw",r.tables,a)];case 8:n.sent(),n.label=9;case 9:return d.done=!0,p&&e.ignoreTransaction((function(){return p(d)})),[2]}}))}))}function L(e,r){return n(this,void 0,void 0,(function(){var n,i;return t(this,(function(t){switch(t.label){case 0:n="slice"in e?T(e):e,t.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(r)];case 2:return t.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(!(i=n.result)||"dexie"!=i.formatName)throw new Error("Given file is not a dexie export");if(i.formatVersion>O)throw new Error("Format version "+i.formatVersion+" not supported");if(!i.data)throw new Error("No data in export file");if(!i.data.databaseName)throw new Error("Missing databaseName in export file");if(!i.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!i.data.tables)throw new Error("Missing tables in export file");return[2,n]}}))}))}e.prototype.export=function(e){return A(this,e)},e.prototype.import=function(e,n){return x(this,e,n)},e.import=function(e,n){return P(e,n)};var C=function(){throw new Error("This addon extends Dexie.prototype globally and does not have be included in Dexie constructor's addons options.")};export{C as default,A as exportDB,P as importDB,x as importInto,I as peakImportFile};
